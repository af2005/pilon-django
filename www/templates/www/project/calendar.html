{% extends "www/base+sidebar+title.html" %}
{% load static %}
{% block navigation %}{% include 'www/snippets/navigation-create-button.html' %}{% endblock %}

{% block additional_assets %}
    <link href='{% static "www/fullcalendar/custom.css" %}' rel='stylesheet'/>

    <script src='{% static "www/fullcalendar/main.min.js" %}'></script>
    <script type="application/javascript">

        document.addEventListener('DOMContentLoaded', function () {
            const calendarEl = document.getElementById('full-calendar');
            const calendar = new FullCalendar.Calendar(calendarEl, {
                events: '/schedule/api/occurrences?calendar_slug={{ project.key }}',
                timeZone: 'local',
                initialView: 'dayGridMonth',
                firstDay: 1,
                themeSystem: 'bootstrap',
                headerToolbar: {
                    start: 'prev,next today',
                    center: 'title',
                    end: 'dayGridMonth,timeGridWeek createButton'
                },
                bootstrapFontAwesome: {
                    prev: ' bi bi-chevron-left',
                    next: ' bi bi-chevron-right',
                    prevYear: ' bi bi-chevron-double-left',
                    nextYear: ' bi bi-chevron-double-right',
                    close: 'bi bi-x'
                },
                customButtons: {
                    createButton: {
                        text: 'Add event...',
                        click: function () {
                            alert('clicked the custom button!');
                        }
                    }
                },
            });
            calendar.render();
        });

    </script>
{% endblock %}



{% block additional_scripts_eob %}
{% endblock %}


{% block content %}
    {{ content }}
    <div id="full-calendar" class="mx-2 row shadow">
    </div>


{% endblock %}